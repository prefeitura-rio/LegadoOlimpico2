function Ye(e,n=document){return typeof e=="string"?Array.from(n.querySelectorAll(e)):e instanceof Element?[e]:e instanceof NodeList?Array.from(e):e instanceof Array?e:[]}function Ge(e){const n=document.createElement("div");n.className=`scrollama__debug-step ${e}`,n.style.position="fixed",n.style.left="0",n.style.width="100%",n.style.zIndex="9999",n.style.borderTop="2px solid black",n.style.borderBottom="2px solid black";const t=document.createElement("p");return t.style.position="absolute",t.style.left="0",t.style.height="1px",t.style.width="100%",t.style.borderTop="1px dashed black",n.appendChild(t),document.body.appendChild(n),n}function Ve({id:e,step:n,marginTop:t}){const{index:r,height:i}=n,a=`scrollama__debug-step--${e}-${r}`;let o=document.querySelector(`.${a}`);o||(o=Ge(a)),o.style.top=`${t*-1}px`,o.style.height=`${i}px`,o.querySelector("p").style.top=`${i/2}px`}function Xe(){const e="abcdefghijklmnopqrstuvwxyz",n=Date.now(),t=[];for(let r=0;r<6;r+=1){const i=e[Math.floor(Math.random()*e.length)];t.push(i)}return`${t.join("")}${n}`}function Z(e){console.error(`scrollama error: ${e}`)}function L(e){return+e.getAttribute("data-scrollama-index")}function Ue(e,n){const t=Math.ceil(e/n),r=[],i=1/t;for(let a=0;a<t+1;a+=1)r.push(a*i);return r}function oe(e){if(typeof e=="string"&&e.indexOf("px")>0){const n=+e.replace("px","");return isNaN(n)?(err("offset value must be in 'px' format. Fallback to 0.5."),{format:"percent",value:.5}):{format:"pixels",value:n}}else if(typeof e=="number"||!isNaN(+e))return e>1&&err("offset value is greater than 1. Fallback to 1."),e<0&&err("offset value is lower than 0. Fallback to 0."),{format:"percent",value:Math.min(Math.max(0,e),1)};return null}function Ze(e){e.forEach(n=>n.node.setAttribute("data-scrollama-index",n.index))}function Je(e){const{top:n}=e.getBoundingClientRect(),t=window.pageYOffset,r=document.body.clientTop||0;return n+t-r}let _=0,ae=0,P;function we(){_!==window.pageYOffset&&(_=window.pageYOffset,_>ae?P="down":_<ae&&(P="up"),ae=_)}function Ke(){document.addEventListener("scroll",we)}function Kn(){let e={},n=Xe(),t=[],r,i=0,a=!1,o=!1,f=!1,u=!1,c=[];function d(){e={stepEnter:()=>{},stepExit:()=>{},stepProgress:()=>{}},c=[]}function g(s){s&&!a&&j(),!s&&a&&S(),a=s}function m(s,h){const x=L(s),p=t[x];h!==void 0&&(p.progress=h);const b={element:s,index:x,progress:h,direction:P};p.state==="enter"&&e.stepProgress(b)}function A(s,h=!0){const x=L(s),p=t[x],b={element:s,index:x,direction:P};p.direction=P,p.state="enter",c[x]||e.stepEnter(b),u&&(c[x]=!0)}function N(s,h=!0){const x=L(s),p=t[x];if(!p.state)return!1;const b={element:s,index:x,direction:P};o&&(P==="down"&&p.progress<1?m(s,1):P==="up"&&p.progress>0&&m(s,0)),p.direction=P,p.state="exit",e.stepExit(b)}function O([s]){const h=L(s.target),x=t[h],p=s.target.offsetHeight;p!==x.height&&(x.height=p,z(x),V(x),C(x))}function R([s]){we();const{isIntersecting:h,target:x}=s;h?A(x):N(x)}function q([s]){const h=L(s.target),x=t[h],{isIntersecting:p,intersectionRatio:b,target:M}=s;p&&x.state==="enter"&&m(M,b)}function z({observers:s}){Object.keys(s).map(h=>{s[h].disconnect()})}function S(){t.forEach(z)}function C(s){const h=new ResizeObserver(O);h.observe(s.node),s.observers.resize=h}function w(){t.forEach(C)}function V(s){const h=window.innerHeight,x=s.offset||r,p=x.format==="pixels"?1:h,b=x.value*p,M=s.height/2-b,k=s.height/2-(h-b),ie={rootMargin:`${M}px 0px ${k}px 0px`,threshold:.5},F=new IntersectionObserver(R,ie);F.observe(s.node),s.observers.step=F,f&&Ve({id:n,step:s,marginTop:M,marginBottom:k})}function te(){t.forEach(V)}function X(s){const h=window.innerHeight,x=s.offset||r,p=x.format==="pixels"?1:h,b=x.value*p,M=-b+s.height,k=b-h,y=`${M}px 0px ${k}px 0px`,U=Ue(s.height,i),ie={rootMargin:y,threshold:U},F=new IntersectionObserver(q,ie);F.observe(s.node),s.observers.progress=F}function re(){t.forEach(X)}function j(){S(),w(),te(),o&&re()}const l={};return l.setup=({step:s,parent:h,offset:x=.5,threshold:p=4,progress:b=!1,once:M=!1,debug:k=!1})=>(t=Ye(s,h).map((y,U)=>({index:U,direction:void 0,height:y.offsetHeight,node:y,observers:{},offset:oe(y.dataset.offset),top:Je(y),progress:0,state:void 0})),t.length?(o=b,u=M,f=k,i=Math.max(1,+p),r=oe(x),d(),Ze(t),g(!0),l):(Z("no step elements"),l)),l.enable=()=>(g(!0),l),l.disable=()=>(g(!1),l),l.destroy=()=>(g(!1),d(),l),l.resize=()=>(j(),l),l.offset=s=>s==null?r.value:(r=oe(s),j(),l),l.onStepEnter=s=>(typeof s=="function"?e.stepEnter=s:Z("onStepEnter requires a function"),l),l.onStepExit=s=>(typeof s=="function"?e.stepExit=s:Z("onStepExit requires a function"),l),l.onStepProgress=s=>(typeof s=="function"?e.stepProgress=s:Z("onStepProgress requires a function"),l),l}Ke();function Me(e,n){return e==null||n==null?NaN:e<n?-1:e>n?1:e>=n?0:NaN}function ve(e){let n=e,t=e;e.length===1&&(n=(o,f)=>e(o)-f,t=Qe(e));function r(o,f,u,c){for(u==null&&(u=0),c==null&&(c=o.length);u<c;){const d=u+c>>>1;t(o[d],f)<0?u=d+1:c=d}return u}function i(o,f,u,c){for(u==null&&(u=0),c==null&&(c=o.length);u<c;){const d=u+c>>>1;t(o[d],f)>0?c=d:u=d+1}return u}function a(o,f,u,c){u==null&&(u=0),c==null&&(c=o.length);const d=r(o,f,u,c-1);return d>u&&n(o[d-1],f)>-n(o[d],f)?d-1:d}return{left:r,center:a,right:i}}function Qe(e){return(n,t)=>Me(e(n),t)}function We(e){return e===null?NaN:+e}const en=ve(Me),nn=en.right;ve(We).center;var tn=nn,fe=Math.sqrt(50),se=Math.sqrt(10),ue=Math.sqrt(2);function rn(e,n,t){var r,i=-1,a,o,f;if(n=+n,e=+e,t=+t,e===n&&t>0)return[e];if((r=n<e)&&(a=e,e=n,n=a),(f=Ne(e,n,t))===0||!isFinite(f))return[];if(f>0){let u=Math.round(e/f),c=Math.round(n/f);for(u*f<e&&++u,c*f>n&&--c,o=new Array(a=c-u+1);++i<a;)o[i]=(u+i)*f}else{f=-f;let u=Math.round(e*f),c=Math.round(n*f);for(u/f<e&&++u,c/f>n&&--c,o=new Array(a=c-u+1);++i<a;)o[i]=(u+i)/f}return r&&o.reverse(),o}function Ne(e,n,t){var r=(n-e)/Math.max(0,t),i=Math.floor(Math.log(r)/Math.LN10),a=r/Math.pow(10,i);return i>=0?(a>=fe?10:a>=se?5:a>=ue?2:1)*Math.pow(10,i):-Math.pow(10,-i)/(a>=fe?10:a>=se?5:a>=ue?2:1)}function on(e,n,t){var r=Math.abs(n-e)/Math.max(0,t),i=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),a=r/i;return a>=fe?i*=10:a>=se?i*=5:a>=ue&&(i*=2),n<e?-i:i}function ce(e,n,t){e.prototype=n.prototype=t,t.constructor=e}function ke(e,n){var t=Object.create(e.prototype);for(var r in n)t[r]=n[r];return t}function B(){}var D=.7,J=1/D,I="\\s*([+-]?\\d+)\\s*",Y="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",E="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",an=/^#([0-9a-f]{3,8})$/,fn=new RegExp("^rgb\\("+[I,I,I]+"\\)$"),sn=new RegExp("^rgb\\("+[E,E,E]+"\\)$"),un=new RegExp("^rgba\\("+[I,I,I,Y]+"\\)$"),cn=new RegExp("^rgba\\("+[E,E,E,Y]+"\\)$"),ln=new RegExp("^hsl\\("+[Y,E,E]+"\\)$"),hn=new RegExp("^hsla\\("+[Y,E,E,Y]+"\\)$"),Se={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};ce(B,G,{copy:function(e){return Object.assign(new this.constructor,this,e)},displayable:function(){return this.rgb().displayable()},hex:Ee,formatHex:Ee,formatHsl:dn,formatRgb:$e,toString:$e});function Ee(){return this.rgb().formatHex()}function dn(){return qe(this).formatHsl()}function $e(){return this.rgb().formatRgb()}function G(e){var n,t;return e=(e+"").trim().toLowerCase(),(n=an.exec(e))?(t=n[1].length,n=parseInt(n[1],16),t===6?Ae(n):t===3?new v(n>>8&15|n>>4&240,n>>4&15|n&240,(n&15)<<4|n&15,1):t===8?K(n>>24&255,n>>16&255,n>>8&255,(n&255)/255):t===4?K(n>>12&15|n>>8&240,n>>8&15|n>>4&240,n>>4&15|n&240,((n&15)<<4|n&15)/255):null):(n=fn.exec(e))?new v(n[1],n[2],n[3],1):(n=sn.exec(e))?new v(n[1]*255/100,n[2]*255/100,n[3]*255/100,1):(n=un.exec(e))?K(n[1],n[2],n[3],n[4]):(n=cn.exec(e))?K(n[1]*255/100,n[2]*255/100,n[3]*255/100,n[4]):(n=ln.exec(e))?Oe(n[1],n[2]/100,n[3]/100,1):(n=hn.exec(e))?Oe(n[1],n[2]/100,n[3]/100,n[4]):Se.hasOwnProperty(e)?Ae(Se[e]):e==="transparent"?new v(NaN,NaN,NaN,0):null}function Ae(e){return new v(e>>16&255,e>>8&255,e&255,1)}function K(e,n,t,r){return r<=0&&(e=n=t=NaN),new v(e,n,t,r)}function gn(e){return e instanceof B||(e=G(e)),e?(e=e.rgb(),new v(e.r,e.g,e.b,e.opacity)):new v}function le(e,n,t,r){return arguments.length===1?gn(e):new v(e,n,t,r==null?1:r)}function v(e,n,t,r){this.r=+e,this.g=+n,this.b=+t,this.opacity=+r}ce(v,le,ke(B,{brighter:function(e){return e=e==null?J:Math.pow(J,e),new v(this.r*e,this.g*e,this.b*e,this.opacity)},darker:function(e){return e=e==null?D:Math.pow(D,e),new v(this.r*e,this.g*e,this.b*e,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Pe,formatHex:Pe,formatRgb:Re,toString:Re}));function Pe(){return"#"+he(this.r)+he(this.g)+he(this.b)}function Re(){var e=this.opacity;return e=isNaN(e)?1:Math.max(0,Math.min(1,e)),(e===1?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(e===1?")":", "+e+")")}function he(e){return e=Math.max(0,Math.min(255,Math.round(e)||0)),(e<16?"0":"")+e.toString(16)}function Oe(e,n,t,r){return r<=0?e=n=t=NaN:t<=0||t>=1?e=n=NaN:n<=0&&(e=NaN),new $(e,n,t,r)}function qe(e){if(e instanceof $)return new $(e.h,e.s,e.l,e.opacity);if(e instanceof B||(e=G(e)),!e)return new $;if(e instanceof $)return e;e=e.rgb();var n=e.r/255,t=e.g/255,r=e.b/255,i=Math.min(n,t,r),a=Math.max(n,t,r),o=NaN,f=a-i,u=(a+i)/2;return f?(n===a?o=(t-r)/f+(t<r)*6:t===a?o=(r-n)/f+2:o=(n-t)/f+4,f/=u<.5?a+i:2-a-i,o*=60):f=u>0&&u<1?0:o,new $(o,f,u,e.opacity)}function xn(e,n,t,r){return arguments.length===1?qe(e):new $(e,n,t,r==null?1:r)}function $(e,n,t,r){this.h=+e,this.s=+n,this.l=+t,this.opacity=+r}ce($,xn,ke(B,{brighter:function(e){return e=e==null?J:Math.pow(J,e),new $(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=e==null?D:Math.pow(D,e),new $(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=this.h%360+(this.h<0)*360,n=isNaN(e)||isNaN(this.s)?0:this.s,t=this.l,r=t+(t<.5?t:1-t)*n,i=2*t-r;return new v(de(e>=240?e-240:e+120,i,r),de(e,i,r),de(e<120?e+240:e-120,i,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var e=this.opacity;return e=isNaN(e)?1:Math.max(0,Math.min(1,e)),(e===1?"hsl(":"hsla(")+(this.h||0)+", "+(this.s||0)*100+"%, "+(this.l||0)*100+"%"+(e===1?")":", "+e+")")}}));function de(e,n,t){return(e<60?n+(t-n)*e/60:e<180?t:e<240?n+(t-n)*(240-e)/60:n)*255}function mn(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Q(e,n){if((t=(e=n?e.toExponential(n-1):e.toExponential()).indexOf("e"))<0)return null;var t,r=e.slice(0,t);return[r.length>1?r[0]+r.slice(2):r,+e.slice(t+1)]}function H(e){return e=Q(Math.abs(e)),e?e[1]:NaN}function pn(e,n){return function(t,r){for(var i=t.length,a=[],o=0,f=e[0],u=0;i>0&&f>0&&(u+f+1>r&&(f=Math.max(1,r-u)),a.push(t.substring(i-=f,i+f)),!((u+=f+1)>r));)f=e[o=(o+1)%e.length];return a.reverse().join(n)}}function bn(e){return function(n){return n.replace(/[0-9]/g,function(t){return e[+t]})}}var yn=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function W(e){if(!(n=yn.exec(e)))throw new Error("invalid format: "+e);var n;return new ge({fill:n[1],align:n[2],sign:n[3],symbol:n[4],zero:n[5],width:n[6],comma:n[7],precision:n[8]&&n[8].slice(1),trim:n[9],type:n[10]})}W.prototype=ge.prototype;function ge(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}ge.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function wn(e){e:for(var n=e.length,t=1,r=-1,i;t<n;++t)switch(e[t]){case".":r=i=t;break;case"0":r===0&&(r=t),i=t;break;default:if(!+e[t])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(i+1):e}var ze;function Mn(e,n){var t=Q(e,n);if(!t)return e+"";var r=t[0],i=t[1],a=i-(ze=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=r.length;return a===o?r:a>o?r+new Array(a-o+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+Q(e,Math.max(0,n+a-1))[0]}function je(e,n){var t=Q(e,n);if(!t)return e+"";var r=t[0],i=t[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}var Ie={"%":(e,n)=>(e*100).toFixed(n),b:e=>Math.round(e).toString(2),c:e=>e+"",d:mn,e:(e,n)=>e.toExponential(n),f:(e,n)=>e.toFixed(n),g:(e,n)=>e.toPrecision(n),o:e=>Math.round(e).toString(8),p:(e,n)=>je(e*100,n),r:je,s:Mn,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function He(e){return e}var Te=Array.prototype.map,Ce=["y","z","a","f","p","n","\xB5","m","","k","M","G","T","P","E","Z","Y"];function vn(e){var n=e.grouping===void 0||e.thousands===void 0?He:pn(Te.call(e.grouping,Number),e.thousands+""),t=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",a=e.numerals===void 0?He:bn(Te.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",f=e.minus===void 0?"\u2212":e.minus+"",u=e.nan===void 0?"NaN":e.nan+"";function c(g){g=W(g);var m=g.fill,A=g.align,N=g.sign,O=g.symbol,R=g.zero,q=g.width,z=g.comma,S=g.precision,C=g.trim,w=g.type;w==="n"?(z=!0,w="g"):Ie[w]||(S===void 0&&(S=12),C=!0,w="g"),(R||m==="0"&&A==="=")&&(R=!0,m="0",A="=");var V=O==="$"?t:O==="#"&&/[boxX]/.test(w)?"0"+w.toLowerCase():"",te=O==="$"?r:/[%p]/.test(w)?o:"",X=Ie[w],re=/[defgprs%]/.test(w);S=S===void 0?6:/[gprs]/.test(w)?Math.max(1,Math.min(21,S)):Math.max(0,Math.min(20,S));function j(l){var s=V,h=te,x,p,b;if(w==="c")h=X(l)+h,l="";else{l=+l;var M=l<0||1/l<0;if(l=isNaN(l)?u:X(Math.abs(l),S),C&&(l=wn(l)),M&&+l==0&&N!=="+"&&(M=!1),s=(M?N==="("?N:f:N==="-"||N==="("?"":N)+s,h=(w==="s"?Ce[8+ze/3]:"")+h+(M&&N==="("?")":""),re){for(x=-1,p=l.length;++x<p;)if(b=l.charCodeAt(x),48>b||b>57){h=(b===46?i+l.slice(x+1):l.slice(x))+h,l=l.slice(0,x);break}}}z&&!R&&(l=n(l,1/0));var k=s.length+l.length+h.length,y=k<q?new Array(q-k+1).join(m):"";switch(z&&R&&(l=n(y+l,y.length?q-h.length:1/0),y=""),A){case"<":l=s+l+h+y;break;case"=":l=s+y+l+h;break;case"^":l=y.slice(0,k=y.length>>1)+s+l+h+y.slice(k);break;default:l=y+s+l+h;break}return a(l)}return j.toString=function(){return g+""},j}function d(g,m){var A=c((g=W(g),g.type="f",g)),N=Math.max(-8,Math.min(8,Math.floor(H(m)/3)))*3,O=Math.pow(10,-N),R=Ce[8+N/3];return function(q){return A(O*q)+R}}return{format:c,formatPrefix:d}}var ee,Fe,Le;Nn({thousands:",",grouping:[3],currency:["$",""]});function Nn(e){return ee=vn(e),Fe=ee.format,Le=ee.formatPrefix,ee}function kn(e){return Math.max(0,-H(Math.abs(e)))}function Sn(e,n){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(H(n)/3)))*3-H(Math.abs(e)))}function En(e,n){return e=Math.abs(e),n=Math.abs(n)-e,Math.max(0,H(n)-H(e))+1}var xe=e=>()=>e;function $n(e,n){return function(t){return e+t*n}}function An(e,n,t){return e=Math.pow(e,t),n=Math.pow(n,t)-e,t=1/t,function(r){return Math.pow(e+r*n,t)}}function Pn(e){return(e=+e)==1?_e:function(n,t){return t-n?An(n,t,e):xe(isNaN(n)?t:n)}}function _e(e,n){var t=n-e;return t?$n(e,t):xe(isNaN(e)?n:e)}var Be=function e(n){var t=Pn(n);function r(i,a){var o=t((i=le(i)).r,(a=le(a)).r),f=t(i.g,a.g),u=t(i.b,a.b),c=_e(i.opacity,a.opacity);return function(d){return i.r=o(d),i.g=f(d),i.b=u(d),i.opacity=c(d),i+""}}return r.gamma=e,r}(1);function Rn(e,n){n||(n=[]);var t=e?Math.min(n.length,e.length):0,r=n.slice(),i;return function(a){for(i=0;i<t;++i)r[i]=e[i]*(1-a)+n[i]*a;return r}}function On(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function qn(e,n){var t=n?n.length:0,r=e?Math.min(t,e.length):0,i=new Array(r),a=new Array(t),o;for(o=0;o<r;++o)i[o]=be(e[o],n[o]);for(;o<t;++o)a[o]=n[o];return function(f){for(o=0;o<r;++o)a[o]=i[o](f);return a}}function zn(e,n){var t=new Date;return e=+e,n=+n,function(r){return t.setTime(e*(1-r)+n*r),t}}function ne(e,n){return e=+e,n=+n,function(t){return e*(1-t)+n*t}}function jn(e,n){var t={},r={},i;(e===null||typeof e!="object")&&(e={}),(n===null||typeof n!="object")&&(n={});for(i in n)i in e?t[i]=be(e[i],n[i]):r[i]=n[i];return function(a){for(i in t)r[i]=t[i](a);return r}}var me=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,pe=new RegExp(me.source,"g");function In(e){return function(){return e}}function Hn(e){return function(n){return e(n)+""}}function Tn(e,n){var t=me.lastIndex=pe.lastIndex=0,r,i,a,o=-1,f=[],u=[];for(e=e+"",n=n+"";(r=me.exec(e))&&(i=pe.exec(n));)(a=i.index)>t&&(a=n.slice(t,a),f[o]?f[o]+=a:f[++o]=a),(r=r[0])===(i=i[0])?f[o]?f[o]+=i:f[++o]=i:(f[++o]=null,u.push({i:o,x:ne(r,i)})),t=pe.lastIndex;return t<n.length&&(a=n.slice(t),f[o]?f[o]+=a:f[++o]=a),f.length<2?u[0]?Hn(u[0].x):In(n):(n=u.length,function(c){for(var d=0,g;d<n;++d)f[(g=u[d]).i]=g.x(c);return f.join("")})}function be(e,n){var t=typeof n,r;return n==null||t==="boolean"?xe(n):(t==="number"?ne:t==="string"?(r=G(n))?(n=r,Be):Tn:n instanceof G?Be:n instanceof Date?zn:On(n)?Rn:Array.isArray(n)?qn:typeof n.valueOf!="function"&&typeof n.toString!="function"||isNaN(n)?jn:ne)(e,n)}function Cn(e,n){return e=+e,n=+n,function(t){return Math.round(e*(1-t)+n*t)}}function Fn(e,n){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(n).domain(e);break}return this}function Ln(e){return function(){return e}}function _n(e){return+e}var De=[0,1];function T(e){return e}function ye(e,n){return(n-=e=+e)?function(t){return(t-e)/n}:Ln(isNaN(n)?NaN:.5)}function Bn(e,n){var t;return e>n&&(t=e,e=n,n=t),function(r){return Math.max(e,Math.min(n,r))}}function Dn(e,n,t){var r=e[0],i=e[1],a=n[0],o=n[1];return i<r?(r=ye(i,r),a=t(o,a)):(r=ye(r,i),a=t(a,o)),function(f){return a(r(f))}}function Yn(e,n,t){var r=Math.min(e.length,n.length)-1,i=new Array(r),a=new Array(r),o=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),n=n.slice().reverse());++o<r;)i[o]=ye(e[o],e[o+1]),a[o]=t(n[o],n[o+1]);return function(f){var u=tn(e,f,1,r)-1;return a[u](i[u](f))}}function Gn(e,n){return n.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Vn(){var e=De,n=De,t=be,r,i,a,o=T,f,u,c;function d(){var m=Math.min(e.length,n.length);return o!==T&&(o=Bn(e[0],e[m-1])),f=m>2?Yn:Dn,u=c=null,g}function g(m){return m==null||isNaN(m=+m)?a:(u||(u=f(e.map(r),n,t)))(r(o(m)))}return g.invert=function(m){return o(i((c||(c=f(n,e.map(r),ne)))(m)))},g.domain=function(m){return arguments.length?(e=Array.from(m,_n),d()):e.slice()},g.range=function(m){return arguments.length?(n=Array.from(m),d()):n.slice()},g.rangeRound=function(m){return n=Array.from(m),t=Cn,d()},g.clamp=function(m){return arguments.length?(o=m?!0:T,d()):o!==T},g.interpolate=function(m){return arguments.length?(t=m,d()):t},g.unknown=function(m){return arguments.length?(a=m,g):a},function(m,A){return r=m,i=A,d()}}function Xn(){return Vn()(T,T)}function Un(e,n,t,r){var i=on(e,n,t),a;switch(r=W(r==null?",f":r),r.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(n));return r.precision==null&&!isNaN(a=Sn(i,o))&&(r.precision=a),Le(r,o)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(a=En(i,Math.max(Math.abs(e),Math.abs(n))))&&(r.precision=a-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(a=kn(i))&&(r.precision=a-(r.type==="%")*2);break}}return Fe(r)}function Zn(e){var n=e.domain;return e.ticks=function(t){var r=n();return rn(r[0],r[r.length-1],t==null?10:t)},e.tickFormat=function(t,r){var i=n();return Un(i[0],i[i.length-1],t==null?10:t,r)},e.nice=function(t){t==null&&(t=10);var r=n(),i=0,a=r.length-1,o=r[i],f=r[a],u,c,d=10;for(f<o&&(c=o,o=f,f=c,c=i,i=a,a=c);d-- >0;){if(c=Ne(o,f,t),c===u)return r[i]=o,r[a]=f,n(r);if(c>0)o=Math.floor(o/c)*c,f=Math.ceil(f/c)*c;else if(c<0)o=Math.ceil(o*c)/c,f=Math.floor(f*c)/c;else break;u=c}return e},e}function Jn(){var e=Xn();return e.copy=function(){return Gn(e,Jn())},Fn.apply(e,arguments),Zn(e)}export{Fn as i,Jn as l,Kn as s};
